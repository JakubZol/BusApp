<div id="linetimetable-section" onload="setLoaderDelay()">
    <div class="header"><h2>{{line}}</h2> <a href="#/timetable"> Powrót >> </a></div>
    <ul id="courses">
        <li ng-repeat="course in courses track by $index" data-ng-click="setCurrentCourse($index)" ng-class="{'active': currentCourse === $index}">
            {{course.start}} -> {{course.destination}}
        </li>
    </ul>
    <div class="loading-box" ng-class="{'non-visible': contentLoaded}">
        <div class="loader"></div>
        <p>loading...</p>
    </div>
    <ul id="route" ng-class="{'non-visible': !contentLoaded}">
        <li ng-repeat="stop in courses[currentCourse].route track by $index" class="{{stopsClasses[$index]}}" >
            <img src="images/blue_list.png"><p data-ng-click="displayTimetable($index)"> {{stop.stop}}</p>
            <div id="timetable">
                <ul>
                    <li ng-repeat="weekspan in stop.timetable[0].minutes track by $index" data-ng-click="setTimetable($index)" ng-class="{'active': currentTimetable === $index}">{{weekspan.period}}</li>
                </ul>
                <table>
                    <tr ng-repeat="time in stop.timetable | reduceTimetable: currentTimetable">
                        <td>{{time.hour}}</td>
                        <td>{{time.minutes[currentTimetable].values.join(", ")}}</td>
                    </tr>
                </table>
                <button data-ng-click="displayRoute()">Pełna rozpiska trasy</button>
            </div>
        </li>
    </ul>
</div>


<script src="scripts/script.js"></script>
drop table stops cascade ;
drop table courses cascade;
drop table layovers cascade;
drop table timetable cascade;

begin;

create table stops (
  stop_id SERIAL PRIMARY KEY,
  name varchar(30) not null,
  lng float not null,
  lat float not null
);

create table courses (
  course_id SERIAL PRIMARY KEY,
  line varchar(2) not null,
  start varchar(30) not null,
  destination varchar(30) not null
);

create table layovers (
  layover_id SERIAL PRIMARY key,
  stop_id INTEGER not null references stops,
  course_id integer NOT NULL REFERENCES courses,
  ord_number integer not null
);

create table timetable (
  layover_id INTEGER not null references layovers,
  course_number INTEGER not null,
  hour integer not null,
  minutes integer not null,
  primary key(layover_id, course_number)
);


insert into stops (stop_id, name, lng, lat) VALUES
(default, 'Osiedle Słoneczne', 1.0, 1.0),
(default, 'Lwowska', 1.0, 1.0),
(default, 'Lwowska', 1.0, 1.0),
(default, 'Aleja 3 Maja', 1.0, 1.0),
(default, 'Vendo Park', 1.0, 1.0),
(default, 'Vendo Park', 1.0, 1.0),
(default, 'Cmentarz Komunalny', 1.0, 1.0),
(default, 'Cmentarz Komunalny', 1.0, 1.0),
(default, 'Cmentarz Komunalny', 1.0, 1.0),
(default, 'Wojsławicka', 1.0, 1.0),
(default, 'Wolności', 1.0, 1.0),
(default, 'Parafia Świętej Rodziny', 1.0, 1.0),
(default, 'Escott', 1.0, 1.0),
(default, 'Escott', 1.0, 1.0),
(default, 'Połaniecka Osiedla', 1.0, 1.0),
(default, 'Połaniecka Osiedla', 1.0, 1.0),
(default, 'Parafia Chrystusa Odkupiciela', 1.0, 1.0),
(default, 'Parafia Chrystusa Odkupiciela', 1.0, 1.0),
(default, 'Droga Męczenników', 1.0, 1.0),
(default, 'Droga Męczenników', 1.0, 1.0),
(default, 'Orląt Lwowskich', 1.0, 1.0),
(default, 'Bazar', 1.0, 1.0),
(default, 'Ogrodowa Domy', 1.0, 1.0),
(default, 'Ogrodowa Domy', 1.0, 1.0),
(default, 'Pszenna', 1.0, 1.0),
(default, 'Pszenna', 1.0, 1.0),
(default, 'Metalowa Szkoła', 1.0, 1.0),
(default, 'Metalowa Szkoła', 1.0, 1.0),
(default, 'Żółtańce Kolonia', 1.0, 1.0),
(default, 'Żółtańce Kolonia', 1.0, 1.0),
(default, 'Metalowa', 1.0, 1.0),
(default, 'Cmentarz Miejski', 1.0, 1.0),
(default, 'Cmentarz Miejski', 1.0, 1.0),
(default, 'Dworzec Główny PKS', 1.0, 1.0),
(default, 'Dworzec Główny PKS', 1.0, 1.0),
(default, 'Biblioteka Miejska', 1.0, 1.0),
(default, 'Biblioteka Miejska', 1.0, 1.0),
(default, 'Osiedle Koniczynka', 1.0, 1.0),
(default, 'Osiedle Koniczynka', 1.0, 1.0),
(default, 'Ogrodowa', 1.0, 1.0),
(default, 'Ogrodowa', 1.0, 1.0),
(default, 'Hotel Kamena', 1.0, 1.0),
(default, 'Hotel Kamena', 1.0, 1.0),
(default, 'Hotel Kamena', 1.0, 1.0),
(default, 'Hotel Kamena', 1.0, 1.0),
(default, 'Hotel Kamena', 1.0, 1.0),
(default, 'Plac Gdański', 1.0, 1.0),
(default, 'Plac Gdański', 1.0, 1.0),
(default, 'Wiejska', 1.0, 1.0),
(default, 'Wiejska', 1.0, 1.0),
(default, 'Emilii Plater', 1.0, 1.0),
(default, 'Emilii Plater', 1.0, 1.0),
(default, 'Kilińskiego', 1.0, 1.0),
(default, 'Kilińskiego', 1.0, 1.0),
(default, 'Borek', 1.0, 1.0),
(default, 'Borek', 1.0, 1.0),
(default, 'Krzyżówki Wojsławickie', 1.0, 1.0),
(default, 'Krzyżówki Wojsławickie', 1.0, 1.0),
(default, 'Józefin', 1.0, 1.0),
(default, 'Józefin', 1.0, 1.0),
(default, 'Hrubieszowska Pętla', 1.0, 1.0),
(default, 'Józefin II', 1.0, 1.0),
(default, 'Józefin II', 1.0, 1.0),
(default, 'Józefin Ogródki', 1.0, 1.0),
(default, 'Józefin Ogródki', 1.0, 1.0),
(default, 'Józefin Pętla', 1.0, 1.0),
(default, 'Chełm Miasto', 1.0, 1.0),
(default, 'Chełm Miasto', 1.0, 1.0),
(default, 'Park Wodny', 1.0, 1.0),
(default, 'Park Wodny', 1.0, 1.0),
(default, 'Oddział Wojskowy Trubakowska', 1.0, 1.0),
(default, 'Oddział Wojskowy Trubakowska', 1.0, 1.0),
(default, 'Złota', 1.0, 1.0),
(default, 'Złota', 1.0, 1.0),
(default, 'Gazownia', 1.0, 1.0),
(default, 'Gazownia', 1.0, 1.0),
(default, 'Piwna', 1.0, 1.0),
(default, 'Oddział Wojskowy PTTK', 1.0, 1.0),
(default, 'Oddział Wojskowy PTTK', 1.0, 1.0),
(default, 'Legionów Polskich', 1.0, 1.0),
(default, 'Legionów Polskich', 1.0, 1.0),
(default, 'II Liceum Ogólnokształcące', 1.0, 1.0),
(default, 'II Liceum Ogólnokształcęce', 1.0, 1.0),
(default, 'Zespół Szkół Technicznych', 1.0, 1.0),
(default, 'Komenda Miejska Policji', 1.0, 1.0),
(default, 'Chełmski Dom Kultury', 1.0, 1.0),
(default, 'Chełmski Dom Kultury', 1.0, 1.0),
(default, 'Hala MOSIR', 1.0, 1.0),
(default, 'Prymasa Stefana Wyszyńskiego', 1.0, 1.0),
(default, 'Żeromskiego', 1.0, 1.0),
(default, 'Żeromskiego', 1.0, 1.0),
(default, 'Ogrodnicza', 1.0, 1.0),
(default, 'Ogrodnicza', 1.0, 1.0),
(default, 'Botaniczna', 1.0, 1.0),
(default, 'Batorego', 1.0, 1.0),
(default, 'Batorego', 1.0, 1.0),
(default, 'Internat ZSEiT', 1.0, 1.0),
(default, 'Internat ZSEiT', 1.0, 1.0),
(default, 'Reja', 1.0, 1.0),
(default, 'Fabryka Domów', 1.0, 1.0),
(default, '11 Listopada', 1.0, 1.0),
(default, '11 Listopada', 1.0, 1.0),
(default, '11 Listopada', 1.0, 1.0),
(default, 'Stadion Miejski', 1.0, 1.0),
(default, 'Stadion Miejski', 1.0, 1.0),
(default, 'Plac Niepodległości', 1.0, 1.0),
(default, 'Plac Niepodległości', 1.0, 1.0),
(default, 'Plac Niepodległości', 1.0, 1.0),
(default, 'Rolnicza', 1.0, 1.0),
(default, 'Rolnicza', 1.0, 1.0),
(default, 'Jedność', 1.0, 1.0),
(default, 'Jedność', 1.0, 1.0),
(default, 'MPGK Chełm', 1.0, 1.0),
(default, 'MPGK Chełm', 1.0, 1.0),
(default, 'Fabryczna', 1.0, 1.0),
(default, 'Fabryczna', 1.0, 1.0),
(default, 'Przemysłowa Pętla', 1.0, 1.0),
(default, 'Fabryczna Peryferie', 1.0, 1.0),
(default, 'Fabryczna Peryferie', 1.0, 1.0),
(default, 'Cementownia', 1.0, 1.0),
(default, 'Przejazd Kolejowy', 1.0, 1.0),
(default, 'Przejazd Kolejowy', 1.0, 1.0),
(default, 'Dworzec Główny PKP', 1.0, 1.0),
(default, 'Starościńska', 1.0, 1.0),
(default, 'Starościńska', 1.0, 1.0),
(default, 'Sienkiewicza', 1.0, 1.0),
(default, 'Sienkiewicza', 1.0, 1.0),
(default, 'Rondo Romana Dmowskiego', 1.0, 1.0),
(default, 'Rondo Romana Dmowskiego', 1.0, 1.0),
(default, 'Rondo Romana Dmowskiego', 1.0, 1.0),
(default, 'Rondo Romana Dmowskiego', 1.0, 1.0),
(default, 'Osiedle Gwarek', 1.0, 1.0),
(default, 'Osiedle Gwarek', 1.0, 1.0),
(default, 'Witosa', 1.0, 1.0),
(default, 'Witosa', 1.0, 1.0),
(default, 'Rejowiecka Szkoła', 1.0, 1.0),
(default, 'Rejowiecka Szkoła', 1.0, 1.0),
(default, 'Szpitalna', 1.0, 1.0),
(default, 'Szpitalna', 1.0, 1.0),
(default, 'Rejowiecka Wygon', 1.0, 1.0),
(default, 'Rejowiecka Wygon', 1.0, 1.0),
(default, 'Bieławin', 1.0, 1.0),
(default, 'Bieławin', 1.0, 1.0),
(default, 'Rampa Brzeska', 1.0, 1.0),
(default, 'Rampa Brzeska', 1.0, 1.0),
(default, 'Zajezdnia CLA', 1.0, 1.0),
(default, 'Zajezdnia CLA', 1.0, 1.0),
(default, 'Okszów Kolonia', 1.0, 1.0),
(default, 'Okszów Kolonia', 1.0, 1.0),
(default, 'Okszów', 1.0, 1.0),
(default, 'Tuwima', 1.0, 1.0),
(default, 'Szpital', 1.0, 1.0),
(default, 'Szpital', 1.0, 1.0),
(default, 'Szpital Pętla', 1.0, 1.0),
(default, 'Wygon', 1.0, 1.0),
(default, 'Wygon', 1.0, 1.0),
(default, 'Budowlana', 1.0, 1.0),
(default, 'Budowlana', 1.0, 1.0),
(default, 'Glinianki', 1.0, 1.0),
(default, 'Glinianki', 1.0, 1.0),
(default, 'Ogródki Działkowe', 1.0, 1.0);



insert into courses (course_id, line, start, destination) values 
(default,'1','Osiedle Słoneczne','Dworzec Główny PKP'),
(default,'1','Dworzec Główny PKP','Osiedle Słoneczne'),
(default,'1','Osiedle Słoneczne','Cementownia'),
(default,'1','Cementownia','Osiedle Słoneczne'),
(default,'2','Osiedle Słoneczne','Ogródki Działkowe'),
(default,'2','Ogródki Działkowe','Osiedle Słoneczne'),
(default,'3','Osiedle Słoneczne','Szpital Pętla'),
(default,'3','Szpital Pętla','Osiedle Słoneczne'),
(default,'5A','Józefin Pętla','Przemysłowa Pętla'),
(default,'5A','Przemysłowa Pętla','Józefin Pętla'),
(default,'5C','Hrubieszowska Pętla','Szpital Pętla'),
(default,'5C','Szpital Pętla','Hrubieszowska Pętla'),
(default,'6','Dworzec Główny PKP','Cmentarz Komunalny'),
(default,'6','Cmentarz Komunalny','Dworzec Główny PKP'),
(default,'8','Dworzec Główny PKP','Szpital Pętla'),
(default,'8','Szpital Pętla','Dworzec Główny PKP'),
(default,'9','Dworzec Główny PKP','Ogródki Działkowe'),
(default,'9','Ogródki Działkowe','Dworzec Główny PKP'),
(default,'9','Cementownia','Ogródki Działkowe'),
(default,'9','Ogródki Działkowe','Cementownia'),
(default,'11','Dworzec Główny PKP','Okszów'),
(default,'11','Okszów','Dworzec Główny PKP'),
(default,'12','Osiedle Słoneczne','Piwna'),
(default,'12','Piwna','Osiedle Słoneczne'),
(default,'12','Metalowa','Piwna'),
(default,'12','Piwna','Metalowa'),
(default,'15','Dworzec Główny PKP','Dworzec Główny PKP'),
(default,'24','Fabryka Domów','Fabryka Domów'),
(default,'30','Osiedle Słoneczne','Okszów'),
(default,'30','Okszów','Osiedle Słoneczne');


insert into layovers (layover_id, stop_id, course_id, ord_number) VALUES
(default, 1, 1, 1),
(default, 2, 1, 2),
(default, 5, 1, 3),
(default, 7, 1, 4),
(default, 13, 1, 5),
(default, 38, 1, 6),
(default, 36, 1, 7),
(default, 34, 1, 8),
(default, 40, 1, 9),
(default, 42, 1, 10),
(default, 44, 1, 11),
(default, 47, 1, 12),
(default, 104, 1, 13),
(default, 106, 1, 14),
(default, 109, 1, 15),
(default, 113, 1, 16),
(default, 115, 1, 17),
(default, 121, 1, 18),
(default, 123, 1, 19),
(default, 123, 2, 1),
(default, 122, 2, 2),
(default, 116, 2, 3),
(default, 114, 2, 4),
(default, 110, 2, 5),
(default, 107, 2, 6),
(default, 105, 2, 7),
(default, 48, 2, 8),
(default, 43, 2, 9),
(default, 41, 2, 10),
(default, 35, 2, 11),
(default, 37, 2, 12),
(default, 14, 2, 13),
(default, 11, 2, 14),
(default, 8, 2, 15),
(default, 6, 2, 16),
(default, 3, 2, 17),
(default, 1, 2, 18),
(default, 1, 3, 1),
(default, 2, 3, 2),
(default, 5, 3, 3),
(default, 7, 3, 4),
(default, 13, 3, 5),
(default, 38, 3, 6),
(default, 36, 3, 7),
(default, 34, 3, 8),
(default, 40, 3, 9),
(default, 42, 3, 10),
(default, 44, 3, 11),
(default, 47, 3, 12),
(default, 104, 3, 13),
(default, 106, 3, 14),
(default, 109, 3, 15),
(default, 113, 3, 16),
(default, 115, 3, 17),
(default, 118, 3, 18),
(default, 120, 3, 19),
(default, 120, 4, 1),
(default, 119, 4, 2),
(default, 116, 4, 3),
(default, 114, 4, 4),
(default, 110, 4, 5),
(default, 107, 4, 6),
(default, 105, 4, 7),
(default, 48, 4, 8),
(default, 43, 4, 9),
(default, 41, 4, 10),
(default, 35, 4, 11),
(default, 37, 4, 12),
(default, 14, 4, 13),
(default, 11, 4, 14),
(default, 8, 4, 15),
(default, 6, 4, 16),
(default, 3, 4, 17),
(default, 1, 4, 18);
--(default, , , ),



commit;